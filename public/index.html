<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Primer Latino</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Exo+2:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root{--cyan:#00eeff;--magenta:#ff0088;--bg:#0c0a1e}
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:var(--bg);color:white;font-family:'Exo 2',sans-serif;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:15px;background:radial-gradient(circle at top,#1a0e3a,var(--bg))}
    .card{background:rgba(15,15,40,0.85);backdrop-filter:blur(14px);border:1px solid var(--cyan);border-radius:20px;padding:28px 22px;width:100%;max-width:380px;text-align:center;box-shadow:0 0 35px rgba(0,238,255,0.4)}
    .logo{width:92px;height:92px;border-radius:16px;margin-bottom:14px;box-shadow:0 0 22px rgba(0,238,255,0.7)}
    .aviso{font-size:0.82rem;line-height:1.45;opacity:0.9;background:rgba(0,0,0,0.4);padding:12px;border-radius:10px;margin:10px 0 16px;border:1px dashed rgba(0,238,255,0.4)}
    select,input{width:100%;padding:14px;margin:10px 0;border:2px solid var(--cyan);border-radius:12px;background:#000;color:white;font-size:1rem;outline:none}
    select option{background:#111}
    .btn{padding:14px 36px;margin:8px 4px;border:none;border-radius:50px;font-weight:700;font-size:1.05rem;cursor:pointer;transition:.3s}
    .btn-generate{background:linear-gradient(45deg,var(--cyan),var(--magenta));color:black}
    .btn-small{background:#00ff9d;color:#000}
    .btn-stremio{background:var(--magenta);color:white}
    .btn:hover{transform:scale(1.07)}
    .result{margin-top:20px;padding:18px;background:rgba(0,0,0,0.5);border-radius:12px;border:1px dashed var(--cyan);display:none}
    .link{background:#000;color:var(--cyan);padding:11px;border-radius:10px;margin:12px 0;font-family:monospace;font-size:0.88rem;word-break:break-all}
    footer{margin-top:22px;font-size:0.78rem;opacity:0.7}
  </style>
</head>
<body>

  <div class="card">
    <img src="https://github.com/johnpradoo/primer-latino/blob/main/logo/icon.png?raw=true" alt="Primer Latino" class="logo">

    <div class="aviso">
      Este addon no captura todo el API • Mantenemos transparencia total: <br>
      <strong>tu token solo lo ves tú</strong>, yo solo veo los últimos 4 dígitos como referencia.
    </div>

    <select id="debrid">
      <option value="real">Real-Debrid</option>
      <option value="all">AllDebrid</option>
      <option value="torbox">TorBox</option>
    </select>

    <input type="text" id="token" placeholder="Token / API Key" autofocus />

    <button class="btn btn-generate" onclick="generate()">GENERAR ENLACE</button>

    <div class="result" id="result">
      <div class="link" id="linkDisplay"></div>
      <button class="btn btn-small" onclick="copyLink()">COPIAR</button>
      <button class="btn btn-stremio" onclick="installStremio()">INSTALAR EN STREMIO</button>
    </div>

    <footer>© Primer Latino 2025 • Privado & Transparente</footer>
  </div>

  <script>
    const base = "https://primer-latino.onrender.com";

    function generate() {
      const servicio = document.getElementById("debrid").value;
      const token = document.getElementById("token").value.trim();
      const result = document.getElementById("result");
      const linkDisplay = document.getElementById("linkDisplay");

      if (!token) return alert("Pega tu token o API key");

      const prefix = servicio === "real" ? "realdebrid" : 
                    servicio === "all" ? "alldebrid" : "torbox";

      const link = `${base}/${prefix}=${token}/manifest.json`;
      linkDisplay.textContent = link;
      result.style.display = "block";
    }

    function copyLink() {
      navigator.clipboard.writeText(document.getElementById("linkDisplay").textContent);
      alert("Copiado!");
    }

    function installStremio() {
      let link = document.getElementById("linkDisplay").textContent;
      link = link.replace("https://", "").replace("http://", "");
      location.href = "stremio://" + link;
    }
  </script>
</body>
</html>
